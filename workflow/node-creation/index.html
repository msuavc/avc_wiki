<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-root" content="/avc_wiki">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="2.4.0.731045329594">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 2.4.0">

    <!-- Primary Meta Tags -->
    <title>Node Creation | AVC</title>
    <meta name="title" content="Node Creation | AVC">
    <meta name="description" content="Now that you've created a package, you're ready to get into actual development. The first step to actual development is creating a node, and to go..." />

    <!-- Canonical -->
    <link rel="canonical" href="https://msuavc.github.io/avc_wiki/workflow/node-creation/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://msuavc.github.io/avc_wiki/workflow/node-creation/">
    <meta property="og:title" content="Node Creation | AVC">
    <meta property="og:description" content="Now that you've created a package, you're ready to get into actual development. The first step to actual development is creating a node, and to go...">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://msuavc.github.io/avc_wiki/workflow/node-creation/">
    <meta property="twitter:title" content="Node Creation | AVC">
    <meta property="twitter:description" content="Now that you've created a package, you're ready to get into actual development. The first step to actual development is creating a node, and to go...">

    <script>(function () { var el = document.documentElement, m = localStorage.getItem("/avc_wiki/doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../static/branding/avc_rounded_logo.png" rel="icon" />
    <link href="../../resources/css/retype.css?v=2.4.0.731045329594" rel="stylesheet" />

    <script type="text/javascript" src="../../resources/js/config.js?v=2.4.0.731045329594" data-turbo-eval="false" defer></script>
    <script type="text/javascript" src="../../resources/js/retype.js?v=2.4.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" type="text/javascript" src="../../resources/js/lunr.js?v=2.4.0.731045329594" data-turbo-eval="false" defer></script>
    <script id="prism-js" type="text/javascript" src="../../resources/js/prism.js?v=2.4.0.731045329594" defer></script>
</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between grow pr-6 md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../" class="flex items-center leading-snug text-2xl">
                            <span class="w-10 mr-2 grow-0 shrink-0 overflow-hidden">
                                <img class="max-h-10 dark:hidden md:inline-block" src="../../static/branding/avc_rounded_logo.png">
                                <img class="max-h-10 hidden dark:inline-block" src="../../static/branding/avc_rounded_logo.png">
                            </span>
                            <span class="dark:text-white font-semibold line-clamp-1 md:line-clamp-2">AVC</span>
                        </a><span class="hidden px-2 py-1 ml-4 text-sm font-semibold leading-none text-root-logo-label-text bg-root-logo-label-bg rounded-sm md:inline-block">Docs</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="../../">Home</a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="../../learning/tutorials/">Tutorials</a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
        
                            <input class="w-full h-10 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 placeholder-gray-400 dark:placeholder-dark-400"
                            style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search" />
                        </div>
        
                        <!-- Mobile search button mock -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placehokder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button mock -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <!-- Render this div, if config.showSidebarFilter is `true` -->
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter" />
                </div>
            
                <div class="pl-6 mb-4 mt-1">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="../../">Home</a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="../../learning/tutorials/">Tutorials</a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="grow min-w-0 px-6 md:px-16">
                        <main class="relative pt-6 pb-16">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                
                                <!-- Page content  -->
<doc-anchor-target id="node-creation" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#node-creation">#</doc-anchor-trigger>
        <span>Node Creation</span>
    </h1>
</doc-anchor-target>
<p>Now that you&#x27;ve <a href="../package_creation">created a package</a>, you&#x27;re ready to get into actual development.
The first step to actual development is creating a node, and to go through that
process, we will use a template node to illustrate how we structure our ROS code.</p>
<doc-anchor-target id="first-steps">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#first-steps">#</doc-anchor-trigger>
        <span>First Steps</span>
    </h2>
</doc-anchor-target>
<p>The first thing you should do before using anything in this doc is actually creating
a python file. You can do this on linux by executing</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-none"><code v-pre class="language-none">touch [node_name].py</code></pre>
</doc-codeblock></div>
<p>where <code v-pre>[node_name]</code> is the name of your node. Then you can copy the template and use
it in your node&#x27;s code.</p>
<doc-anchor-target id="template-node">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#template-node">#</doc-anchor-trigger>
        <span>Template Node</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="code">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#code">#</doc-anchor-trigger>
        <span>Code</span>
    </h3>
</doc-anchor-target>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">#!/usr/bin/env python3

import rospy
from std_msgs.msg import String


class base_node():
  def __init__(self):
    self.sub = rospy.Subscriber('/subscribed_topic', MessageType self.callback)
    self.pub = rospy.Publisher('/published_topic', MessageType, queue_size=2)

  def callback(self, msg):
    self.pub.publish(msg)

if __name__ == '__main__':
  try:
    rospy.init_node('base_node', anonymous=True) 
    base_node() 
    rospy.spin()
  except RuntimeError as e:
    pass</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="breakdown">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#breakdown">#</doc-anchor-trigger>
        <span>Breakdown</span>
    </h3>
</doc-anchor-target>
<p>As you can see, a minimum functioning node does not require a ton of code, but we
will still break it down into parts so your understanding is correct.</p>
<doc-anchor-target id="shebang">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#shebang">#</doc-anchor-trigger>
        <span>Shebang</span>
    </h4>
</doc-anchor-target>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">#!/usr/bin/env python3</code></pre>
</doc-codeblock></div>
<p>First up, we have the shebang. This tells your underlying Linux OS how to
interpret this file. As you are creating a python node, this will always be
<code v-pre>#!/usr/bin/env python3</code>.</p>
<doc-anchor-target id="imports">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#imports">#</doc-anchor-trigger>
        <span>Imports</span>
    </h4>
</doc-anchor-target>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">import rospy
from std_msgs.msg import String</code></pre>
</doc-codeblock></div>
<p>Next up is your imports. You can add any python packages present on the system here,
but there are a few important ones that you shouldn&#x27;t miss. If you recall your
reading of <a href="../package-creation.md">Package Creation</a>,
you will remember that you declared some dependencies, such as <code v-pre>std_msgs</code>, <code v-pre>rospy</code>, and the likes.
These will need to be imported here to be used in your python script, and likewise they will need to be included in
your package dependencies. One important thing to note is that you should import
message types as needed rather than doing <code v-pre>import std_msgs.msg</code>.</p>
<doc-anchor-target id="class">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#class">#</doc-anchor-trigger>
        <span>Class</span>
    </h4>
</doc-anchor-target>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">class base_node():
  def __init__(self):
    self.sub = rospy.Subscriber('/subscribed_topic', MessageType, self.callback)
    self.pub = rospy.Publisher('/published_topic', MessageType, queue_size=2)

  def callback(self, msg):
    self.pub.publish(msg)</code></pre>
</doc-codeblock></div>
<p>Now we get to the meat and bones of the operation, an object oriented ROS node.
There are two ROS specific parts to pay attention to here: the publisher/subscriber
initialization, and the callback function.</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">def __init__(self):
    self.sub = rospy.Subscriber('/subscribed_topic', MessageType, self.callback)
    self.pub = rospy.Publisher('/published_topic', MessageType, queue_size=2)</code></pre>
</doc-codeblock></div>
<p>First up is the initialization function. In here, we define the inputs and outputs of
your rosnode in terms of rostopics. For your subscriber, there&#x27;s a minimum of three arguments:</p>
<ul>
<li><code v-pre>/subscribed_topic</code>
<ul>
<li>This is the topic name you want the node to receive data from</li>
</ul>
</li>
<li><code v-pre>MessageType</code>
<ul>
<li>This is the message type of the topic you want to subscribe to. As covered in
the imports section, you will import message types from a <code v-pre>.msg</code> import, and then they
will go here. If you are having trouble determining the message type of the topic you want,
then run <code v-pre>rostopic info /topic_name</code>!</li>
</ul>
</li>
<li><code v-pre>self.callback</code>
<ul>
<li>This will be the callback function that is run everytime a new message is received.
For your publisher, the arguments are:</li>
</ul>
</li>
<li><code v-pre>/published_topic</code>
<ul>
<li>This is the topic name you want the node to publish data on. You choose this name
yourself, so make it descriptive</li>
</ul>
</li>
<li><code v-pre>MessageType</code>
<ul>
<li>This is the message type of the topic you want to publish. As covered in
the imports section, you will import message types from a <code v-pre>.msg</code> import, and then they
will go here.</li>
</ul>
</li>
<li><code v-pre>queue_size</code>
<ul>
<li>This determines how many messages will be queued before ros clears them from
memory</li>
</ul>
</li>
</ul>
<p>A couple of notes:</p>
<ul>
<li>You can have multiple publishers and subscribers in one node, but there are some
things you will have to watch out for:
<ul>
<li>Each subscriber must have their own callback (If you want a single callback with synced messages,
use <a href="http://wiki.ros.org/message_filters#Example_.28Python.29">message_filters</a>)</li>
<li>Each publisher should only be published once, and you need to use distinct topic
names for each publisher</li>
</ul>
</li>
<li>To publish a message of ANY type, you need to fill out the fields of each message manually.
Messages are just instances of a python class, and you will fill out each instance of a
message like you would member variables of a python class. For example, a <a href="http://docs.ros.org/en/melodic/api/sensor_msgs/html/msg/PointCloud2.html">sensor_msgs/PointCloud2</a>
is filled out like below (<strong>these are not real values</strong>):</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">    pcl_message = PointCloud2()
    pcl_message.header.stamp = rospy.Time.now()
    pcl_message.header.frame_id = &quot;world&quot;
    pcl_message.height = 1
    pcl_message.width = 680
    pcl_message.fields = []
    pcl_message.is_bigendian = true
    pcl_message.point_step = 4
    pcl_message.row_step = 64
    pcl_message.data = points[1:64]
    pcl_message.is_dense = false</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="main-function">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#main-function">#</doc-anchor-trigger>
        <span>Main Function</span>
    </h4>
</doc-anchor-target>
<p>Lastly, we have the main function:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">    if __name__ == '__main__':
      try:
        rospy.init_node('base_node', anonymous=True) 
        base_node() 
        rospy.spin()
      except RuntimeError as e:
        pass</code></pre>
</doc-codeblock></div>
<p>This code block spins up the node and ensures that it is executing properly.
Some notable parts:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">if __name__ == '__main__':</code></pre>
</doc-codeblock></div>
<p>This line is the actual function call for main() in python.</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">rospy.init_node('base_node', anonymous=True)</code></pre>
</doc-codeblock></div>
<p>This initializes the node with the name &#x27;base_node&#x27;. Like every other name in this
template, it should be changed. This one should change to match the functionality
of the node.</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">base_node() </code></pre>
</doc-codeblock></div>
<p>This initializes the node, and subsequently initializes the publishers and subscribers, meaning that the
node will begin to receive data.</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre class="language-python"><code v-pre class="language-python">rospy.spin()</code></pre>
</doc-codeblock></div>
<p>This puts the node into a cycle of waiting for the next message and then executing.</p>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results />
                            </div>
                            <footer class="clear-both">
                            
                                <nav class="flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../workflow/package-creation/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Previous</span>
                                                <span class="block mt-1">Package Creation</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../guides/rosbags/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Next</span>
                                                <span class="block mt-1">Replaying Recorded Data</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                        <li>
                                            <a class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0" href="../../license/">License</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p>© All rights reserved.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script>window.__DOCS__ = { "title": "Node Creation", level: 2, icon: "file", hasPrism: true, hasMermaid: false, hasMath: false }</script>
</body>
</html>
